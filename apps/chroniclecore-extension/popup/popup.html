<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ChronicleCore</title>
  <link rel="stylesheet" href="popup.css">
</head>

<body>
  <div class="container">
    <div class="header">
      <div class="header-left">
        <img src="../icons/icon48.png" alt="ChronicleCore" class="logo">
        <div class="header-text">
          <h1>ChronicleCore</h1>
          <span class="version">v1.0.0</span>
        </div>
      </div>
      <button id="themeToggle" class="icon-btn" title="Toggle Dark Mode">
        <span class="theme-icon">&#9728;</span>
      </button>
    </div>

    <!-- Daily Timer -->
    <div class="daily-summary">
      <span class="label">Today</span>
      <span id="dailyTime" class="value">--:--</span>
    </div>

    <div id="serverStatus" class="status status-checking">
      <span class="status-dot"></span>
      <span class="status-text">Checking server...</span>
    </div>

    <div id="trackingStatus" class="status status-active">
      <span class="status-dot"></span>
      <span class="status-text">Tracking active</span>
    </div>

    <div id="idleIndicator" class="idle-indicator" style="display: none;">
      <span class="idle-dot"></span>
      <span id="idleText">Idle for 5m</span>
    </div>

    <div class="buttons">
      <button id="resumeBtn" class="btn btn-primary" style="display: none;">
        <span>&#9654;</span>
        <span>Resume Tracking</span>
      </button>

      <button id="pauseBtn" class="btn btn-secondary">
        <span>&#9208;</span>
        <span>Pause Tracking</span>
      </button>

      <button id="stopBtn" class="btn btn-danger">
        <span>&#9209;</span>
        <span>Stop Tracking</span>
      </button>

      <button id="dashboardBtn" class="btn btn-secondary">
        <span>&#128200;</span>
        Open Dashboard
      </button>
    </div>

    <div id="lastActivity" class="last-activity">
      <div class="section-title">Latest Browser Activity</div>
      <span id="lastActivityText" class="value">--</span>
    </div>

    <div id="systemActivity" class="last-activity system-activity" style="display: none;">
      <div class="section-title">System Activity</div>
      <span id="systemActivityText" class="value">--</span>
    </div>

    <div class="footer">
      <a href="http://127.0.0.1:8080" target="_blank">Open ChronicleCore</a>
    </div>

    <!-- Debug Info (Click version number to toggle) -->
    <div id="debugSection" style="display: none; margin-top: 10px; border-top: 1px solid #ccc; padding-top: 5px;">
      <div style="font-size: 10px; font-weight: bold; margin-bottom: 5px;">DEBUG INFO</div>
      <pre id="debugInfo"
        style="font-size: 9px; white-space: pre-wrap; word-break: break-all; max-height: 150px; overflow-y: auto; background: #eee; padding: 5px; color: #333;"></pre>
    </div>
  </div>

  <script src="popup.js"></script>
</body>

</html>